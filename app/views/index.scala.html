@()

@main("Final scalable") {
@defining(play.core.PlayVersion.current) { version =>

<section id="content ">
  <div class="wrapper doc">
    <article>
      <div class="weather">
        <div class="row">
          
        </div>
      </div>
      <script src='@routes.Assets.versioned("/javascripts/jquery.min.js")' type="text/javascript"></script>
      <script>
        $(document).ready(function() {
          var data_hu = '';
          var data_tem = '';
          var data_wea = '';
      
          $.ajax({
            type: 'GET',
            url: "https://data.bmkg.go.id/datamkg/MEWS/DigitalForecast/DigitalForecast-SulawesiSelatan.xml",
            success: function(data) {
      
              //Weather
              var semua_wea = $(data).find('#501495 #weather timerange');
              var data_cuaca = '';
              semua_wea.each(function(){
                var waktu = $(this).attr('datetime');
                var hum = $(data).find("#501495 #hu timerange[datetime="+waktu+"] value[unit='%']").text();
                var cel = $(data).find("#501495 #t timerange[datetime="+waktu+"] value[unit='C']").text();
                var fah = $(data).find("#501495 #t timerange[datetime="+waktu+"] value[unit='F']").text();
                var cuaca = $(this).find("value").text();
      
                switch (cuaca) {
                  case "0":
                    data_cuaca = "Cerah / Clear Skies"
                    break;
                  case "100":
                    data_cuaca = "Cerah / Clear Skies"
                    break;
                  case "1":
                    data_cuaca = "Cerah Berawan / Partly Cloudy"
                    break;
                  case "101":
                    data_cuaca = "Cerah Berawan / Partly Cloudy"
                    break;
                  case "2":
                    data_cuaca = "Cerah Berawan / Partly Cloudy"
                    break;
                  case "102":
                    data_cuaca = "Cerah Berawan / Partly Cloudy"
                    break;
                  case "3":
                    data_cuaca = "Berawan / Mostly Cloudy"
                    break;
                  case "103":
                    data_cuaca = "Berawan / Mostly Cloudy"
                    break;
                  case "4":
                    data_cuaca = "Berawan Tebal / Overcast"
                    break;
                  case "104":
                    data_cuaca = "Berawan Tebal / Overcast"
                    break;
                  case "5":
                    data_cuaca = "Udara Kabur / Haze"
                    break;
                  case "10":
                    data_cuaca = "Asap / Smoke"
                    break;
                  case "45":
                    data_cuaca = "Kabut / Fog"
                    break;
                  case "60":
                    data_cuaca = "Hujan Ringan / Light Rain"
                    break;
                  case "61":
                    data_cuaca = "Hujan Sedang / Rain"
                    break;
                  case "63":
                    data_cuaca = "Hujan Lebat / Heavy Rain"
                    break;
                  case "80":
                    data_cuaca = "Hujan Lokal / Isolated Shower"
                    break;
                  case "95":
                    data_cuaca = "Hujan Petir / Severe Thunderstorm"
                    break;
                  case "97":
                    data_cuaca = "Hujan Petir / Severe Thunderstorm"
                    break;
                
                  default:
                    break;
                }
      
                data_wea += `
                  <div class="wrapper col-3 border p-3">
                    <h6>`+waktu.slice(0,4)+`-`+waktu.slice(4,6)+`-`+waktu.slice(6,8)+` / `+waktu.slice(8,10)+`:`+waktu.slice(10,12)+` WIB</h6>
                    <h5 class="text-danger">`+ data_cuaca+`</h5>
                    <h5 class="text-primary">Humidity : `+ hum+`%</h5>
                    <h5>Temperature : `+ cel+`°C / `+ fah +`°F</h5>
                  </div>
                `;
              });
      
              $('.weather .row').html(data_wea);
            }
          });
        });
      </script>
    </article>
  </div>
</section>
}
}